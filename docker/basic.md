# Docker入门
## Docker为什么出现
想当年还上学的时候，给女朋友做了个网页，心血来潮，赶紧去白嫖了一个阿里云的服务器，心想着做完了她直接手机上就能看到了。然而.......到了部署的时候，虽然也没有很麻烦，但是我先从我本地用xshell传了一个MySQL的安装包上云，在linux下解压，安装。给云上装了一个MySQL，然后同样的方式给云上装了一个Tomcat。然后把我的java应用打成一个war包，然后启动Tomcat。所以docker为什么会出现，当然就是为了解决给女朋友部署麻烦的问题出现！

又想当年也是还在上学的时候，跟室友开发完成课题作业，在小黑屋肝到凌晨三点。他说要不歇会儿吧......肝真疼。于是我俩开了一把紧张刺激的王者荣耀，他立马肝不疼了并且说了一句：我的代码在我这能运行啊，放你那就挂了，是不是你电脑的问题，docker为什么出现，当然是为了解决跟室友开发紧张关系出现！

所以，Docker是一个用于提升关系的工具。。。。。。

言归正传，现在你有一个web应用，你在本地调试没有问题，这时候你想发给你的朋友或者部署上远程服务器，那么你在远程服务器上部署相同的环境，比如数据库，web服务器等，即使做到了这样，你也不能保证软件一定能运行起来，即使是linux每个发行的小版，也会有细微的差别，所以我们为了模拟本地真实的环境，通常会使用虚拟机，但是虚拟机技术存在很多的痛点：

1. 每台虚拟机都需要自己独立的操作系统，它要模拟出整个机器的硬件，输入以及输出设备，虚拟机开启后，会占用预先分配给它的资源，换句话说，虚拟机，就是在自己电脑上又装了一个电脑。（虚拟一个电脑，大的要死）
2. 我们也许只是部署一个特别小的web程序，根本用不到一个虚拟机里面那么多的资源，就造成了很大的浪费

容器技术的出现，解决了这些痛点：



## Docker中的重要概念
Docker既然要让开发和部署变的简单，又不能像虚拟机那种冗余，这就要解释Docker中三个非常重要的概念：Dockerfile，Image，Container

**Image（镜像）**：可以简单理解为一个应用程序或像是一个虚拟机的快照(SnapShot)，里面包含了你要部署的程序以及这个程序运行需要的所有的库。

**Container（容器）**：
有了镜像，有了一个能够部署和运行的程序，那应该运行在哪里呢？一个.exe文件，肯定是要有win系统才可以运行。一个镜像，自然是也要有一个地方运行，这个地方就叫容器。通过镜像可以创建许多个不同的容器，容器就像是一个一个个的虚拟机，每个容器独立运行，相互之间不影响。

**Dockerfile**：
Dockerfile就像是一个自动化脚本，用来创建镜像，具体怎么创建，由我们给docker的指令来创建，这极大的提升了灵活性。

**Reposity（仓库）**
创建出来的镜像千奇百怪，别人要用怎么办。我们可以将镜像上传到仓库，别人要用就拉下来就好。

从以上几个概念，我们可以大致看Docker怎么部署一个web应用，首先我们在Dockerfile中告诉docker这个web应用需要MySQL，Redis，Nginx等等，最重要的还有你的web程序，然后指令docker构建这个镜像，同时你可以在本地的docker上用这个镜像启动一个容器，测试是否能成功运行。然后将这个本地运行没有问题的镜像push到仓库中，你的朋友就可以从这个仓库中拉取这个image，只要他本地也有docker的环境，那么就能轻松用这个镜像启动一个容器访问这个应用。
